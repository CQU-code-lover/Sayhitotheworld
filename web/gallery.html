<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title></title>
    <!-- Reset CSS -->
    <link href="css/reset.css" rel="stylesheet" type="text/css">
    <!-- Custom Fonts -->
    <link href="css/fonts.css" rel="stylesheet" type="text/css">
    <!-- Bootstrap -->
<!--    <link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">-->
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.css" rel="stylesheet" type="text/css">
    <!-- Select2 -->
    <link href="assets/select2/css/select2.min.css" rel="stylesheet" type="text/css">
    <!-- Font Awesome -->
<!--    <link href="assets/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">-->
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.14.0/css/fontawesome.min.css" rel="stylesheet" type="text/css">
    <!-- Magnific Popup -->
    <link href="assets/magnific-popup/css/magnific-popup.css" rel="stylesheet" type="text/css">
    <!-- Iconmoon -->
    <link href="assets/iconmoon/css/iconmoon.css" rel="stylesheet" type="text/css">
    <!-- Custom Style -->
    <link href="css/custom.css" rel="stylesheet" type="text/css">
    <link href="css/gallery.css" rel="stylesheet" type="text/css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>

    <script src="js/html5shiv.min.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]-->

</head>

<body>


<!-- Start Preloader -->
<div id="loading">
    <div class="element">
        <div class="sk-folding-cube">
            <div class="sk-cube1 sk-cube"></div>
            <div class="sk-cube2 sk-cube"></div>
            <div class="sk-cube4 sk-cube"></div>
            <div class="sk-cube3 sk-cube"></div>
        </div>
    </div>
</div>
<!-- End Preloader -->
<!-- Start Header -->
<header>
    <!-- Start Header Middle -->
    <div class="container header-middle">
        <div class="row"> <span class="col-xs-6 col-sm-3"><a href="index.html"><img src="images/logo.png"
                                                                                    class="img-responsive"
                                                                                    alt=""></a></span>
            <div class="col-xs-6 col-sm-3"></div>
            <div class="col-xs-6 col-sm-9">
                <div class="contact clearfix">
                    <ul class="hidden-xs">
                        <li><span>电子邮箱/email</span> <a href="mailto:info@edumart.org">sayhitotheworld.com@gmail.com</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- End Header Middle -->
    <!-- Start Navigation -->
    <nav class="navbar navbar-inverse">
        <div class="container">
            <div class="navbar-header">
                <button aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse"
                        class="navbar-toggle collapsed" type="button"><span class="sr-only">Toggle navigation</span>
                    <span
                            class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
                </button>
            </div>
            <div class="navbar-collapse collapse" id="navbar">
                <ul class="nav navbar-nav">
                    <li><a href="index.html"><strong>首页</strong></a></li>
                    <li><a href="register.html"><strong>用户注册</strong></a></li>
                    <li><a href="about.html"><strong>关于我们</strong></a></li>
                    <li><a href="gallery.html"><strong>教师信息</strong></a></li>
                    <li><a href="apply-online.html"><strong>How to become a teacher</strong></a>
                    </li>
                    <li></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- End Navigation -->
</header>
<!-- End Header -->

<!-- Start Banner -->

<div class="inner-banner blog">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="content">
                    <h1><strong>教师信息</strong></h1>
                    <p>在这里，你可以找到所有的教师信息</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- End Banner -->


<div class="container" id="list-container">
    <div class="row">
    </div>
</div>
<!-- 参考bootstrap分页样式 -->
<div class="pagination-con">
    <ul class="pagination">
        <li><a href="#">&laquo;</a></li>
        <li class="active"><a href="#">1</a></li>
        <li class="disabled"><a href="#">2</a></li>
        <li><a href="#">3</a></li>
        <li><a href="#">4</a></li>
        <li><a href="#">5</a></li>
        <li><a href="#">&raquo;</a></li>
    </ul>
</div>

<!-- Start Footer -->

<footer class="footer">
    <!-- Start Footer Top -->
    <div class="container">
        <div class="row row1">
            <div class="col-sm-9 clearfix">
                <div class="foot-nav">
                    <h3></h3>
                    <ul>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                    </ul>
                </div>
                <div class="foot-nav">
                    <h3></h3>
                    <ul>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                    </ul>
                </div>
                <div class="foot-nav">
                    <h3></h3>
                    <ul>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                    </ul>
                </div>
                <div class="foot-nav">
                    <h3 class="text-right">say hi to the world</h3>
                    <ul>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                        <li><a href="#"></a></li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="footer-logo hidden-xs"><a href="index.html"><img src="images/footer-logo.png"
                                                                             class="img-responsive" alt=""></a></div>
                <ul class="terms clearfix">

                    <li><a href="#"></a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- End Footer Top -->
    <!-- Start Footer Bottom -->
    <div class="bottom">
        <div class="container">
            <div class="row">
                <div class="col-sm-4">
                    <div class="connect-us">
                        <h3>Connect with Us</h3>
                        <ul class="follow-us clearfix">
                            <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                            <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                            <li><a href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
                            <li><a href="#"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li>
                            <li><a href="#"><i class="fa fa-youtube-play" aria-hidden="true"></i></a></li>
                            <li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="subscribe">
                        <h3></h3>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="instagram">
                        <h3>@say hi to the world</h3>
                        <ul class="clearfix">
                            <li><a href="#">
                                <figure><img src="images/insta-img1.jpg" class="img-responsive" alt=""></figure>
                            </a></li>
                            <li><a href="#">
                                <figure><img src="images/insta-img2.jpg" class="img-responsive" alt=""></figure>
                            </a></li>
                            <li><a href="#">
                                <figure><img src="images/insta-img3.jpg" class="img-responsive" alt=""></figure>
                            </a></li>
                            <li><a href="#">
                                <figure><img src="images/insta-img4.jpg" class="img-responsive" alt=""></figure>
                            </a></li>
                            <li><a href="#">
                                <figure><img src="images/insta-img5.jpg" class="img-responsive" alt=""></figure>
                            </a></li>
                            <li><a href="#">
                                <figure><img src="images/insta-img6.jpg" class="img-responsive" alt=""></figure>
                            </a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Footer Bottom -->
</footer>

<!-- End Footer -->

<!--<div class=" gallery-item col-xs-12 col-sm-12 col-md-6 col-lg-6 ">-->
<!--    <div class="photo col-lg-4 col-md-4  col-xs-6 col-sm-6">-->
<!--        <img src="images/教师1 (2).jpg" alt="教师图片..."/>-->
<!--    </div>-->
<!--    <div class="simple-info col-lg-6 col-md-6  col-xs-6 col-sm-6">-->
<!--        <ul>-->
<!--            <li>-->
<!--                <span><strong>教师姓名</strong></span>-->
<!--                <br/>-->
<!--                <span class="text-value">Aarshika Singh</span>-->
<!--            </li>-->
<!--            <li>-->
<!--                <span><strong>毕业学校</strong></span>-->
<!--                <br/>-->
<!--                <span  class="text-value">Jacobs University Bremen</span>-->
<!--            </li>-->
<!--            <li>-->
<!--                <span><strong>语言</strong></span>-->
<!--                <br/>-->
<!--                <span  class="text-value">印地语（母语） 英语 德语 梵语</span>-->
<!--            </li>-->
<!--            <li>-->
<!--                <span><strong>每小时收费</strong></span>-->
<!--                <br/>-->
<!--                <span  class="text-value">CNY -</span>-->
<!--            </li>-->
<!--            <li class="see-detail">-->
<!--                <span><a  href="gallery_detail.html">查看详情>></a></span>-->
<!--            </li>-->
<!--        </ul>-->
<!--    </div>-->
<!--</div>-->


<!-- Scroll to top -->
<a href="#" class="scroll-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<!--<script type="text/javascript" src="js/jquery.min.js"></script>-->
<script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<!-- Bootsrap JS -->
<!--<script type="text/javascript" src="assets/bootstrap/js/bootstrap.min.js"></script>-->
<script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
<!-- Select2 JS -->
<!--<script type="text/javascript" src="assets/select2/js/select2.min.js"></script>-->
<!-- Magnific Popup JS -->
<script type="text/javascript" src="assets/magnific-popup/js/magnific-popup.min.js"></script>
<!-- Isotop JS -->
<script type="text/javascript" src="assets/isotope/js/isotope.min.js"></script>
<!-- Custom JS -->
<script type="text/javascript" src="js/custom.js"></script>

<script>
    var country_list;
    var language_list;

    var max_item_per_page = 6;
    $.post("/getTeacherSimpleList",{
        "begin":0,
        "length":max_item_per_page,
        "type": 1,
    },function (data) {
        switch (data.state){
            case 1:
                pageInit(data);
                break;
            case 2:
                customAlert("字段错误！");
                break;
            case 3:
                customAlert("无权限！");
                break;
            default:
                customAlert("服务器故障");
                break;
        }
    },"json")

    function jmpTargetPage(target_li_dom){
        //输入可以为目标li标签的a子标签
        var $target_li = $(target_li_dom);
        if(typeof $target_li.attr("index")==="undefined"){
            $target_li = $target_li.parent();
        }
        if($target_li.hasClass("active")){
            //do nothing
        }
        else{
            var $foot_ul = $("ul.pagination");
            var begin = (parseInt($target_li.attr("index"))-1)*6;
            loadDataAndFull(begin,6);
            $foot_ul.children().removeClass("active");
            $target_li.addClass("active");
        }
    }

    function loadDataAndFull(begin,length) {
        $.post("/getTeacherSimpleList",{
            "begin":begin,
            "length":length,
            "type": 1,
        },function (data) {
            switch (data.state){
                case 1:
                    fullTeacherList(data.teacherList);
                    break;
                case 2:
                    customAlert("字段错误！");
                    break;
                case 3:
                    customAlert("无权限！");
                    break;
                default:
                    customAlert("服务器故障");
                    break;
            }
        },"json")
    }

    function pre() {
        var $foot_ul = $("ul.pagination");
        var $first_li = $foot_ul.children().first().next();
        console.log($first_li);
        if($first_li.hasClass("active")){
            customAlert("这是最开始一页！");
        }
        else{
            jmpTargetPage($foot_ul.children(".active").prev()[0]);
        }
    }

    function next() {
        var $foot_ul = $("ul.pagination");
        var $last_li = $foot_ul.children().last().prev();
        console.log($last_li);
        if($last_li.hasClass("active")){
            customAlert("这是最后一页！");
        }
        else{
            jmpTargetPage($foot_ul.children(".active").next()[0]);
        }
    }
    function fullTeacherList(data) {
        //data就是教师列表信息
        var Basic_url = "";
        var USDTOCNY = 7;
        var elem_str = "<div class=\" gallery-item col-xs-12 col-sm-12 col-md-6 col-lg-6 \">\n" +
            "            <div class=\"photo col-lg-4 col-md-4  col-xs-6 col-sm-6\">\n" +
            "                <img src=\"images/教师1 (2).jpg\" alt=\"教师图片...\"/>\n" +
            "            </div>\n" +
            "            <div class=\"simple-info col-lg-6 col-md-6  col-xs-6 col-sm-6\">\n" +
            "                <ul>\n" +
            "                    <li>\n" +
            "                        <span><strong>教师姓名</strong></span>\n" +
            "                        <br/>\n" +
            "                        <span class=\"text-value\">Aarshika Singh</span>\n" +
            "                    </li>\n" +
            "                    <li>\n" +
            "                        <span><strong>毕业学校</strong></span>\n" +
            "                        <br/>\n" +
            "                        <span  class=\"text-value\">Jacobs University Bremen</span>\n" +
            "                    </li>\n" +
            "                    <li>\n" +
            "                        <span><strong>语言</strong></span>\n" +
            "                        <br/>\n" +
            "                        <span  class=\"text-value\">印地语（母语） 英语 德语 梵语</span>\n" +
            "                    </li>\n" +
            "                    <li>\n" +
            "                        <span><strong>每小时收费</strong></span>\n" +
            "                        <br/>\n" +
            "                        <span  class=\"text-value\">CNY -</span>\n" +
            "                    </li>\n" +
            "                    <li class=\"see-detail\">\n" +
            "                        <span><a  href=\"/gallery_detail.html\">查看详情>></a></span>\n" +
            "                    </li>\n" +
            "                </ul>\n" +
            "            </div>\n" +
            "        </div>";

        var $innerContainer = $("#list-container>div");

        $innerContainer.empty();
        var length = data.length;
        if(length === 0 || typeof(length)=="undefined"){
            $innerContainer.append("<h3>没有教师信息</h3>");
        }
        else{
            setCountryAndLanguageJson();
            for(var i =0;i<length;i++){
                var data_item = data[i];
                var $item = $(elem_str);
                $item.find("img").attr("src","/uploadImage/"+data_item.pic);
                var $item_ul = $item.find("ul");
                $item_ul.children().eq(0).children().eq(2).text(data_item.name);
                $item_ul.children().eq(1).children().eq(2).text(data_item.education);
                $item_ul.children().eq(2).children().eq(2).text(language_list[data_item.language]);
                $item_ul.children().eq(3).children().eq(2).text(data_item.price*USDTOCNY+" 元");
                $item_ul.children().eq(4).children().eq(0).children().attr("href","/pageGalleryDetail?teacher_name="+data_item.teacher_name);
                $item.appendTo($innerContainer);
            }
        }
    }
    function pageInit(data) {
        var max_length =  data.max_length; //列表最长长度
        var max_page_count;
        if(max_length===0){
            max_page_count = 1;
        }
        else{
            max_page_count = Math.ceil(max_length/max_item_per_page);     //向上取整
        }
        fresh_foot_ul(1,max_page_count);
        fullTeacherList(data.teacherList);
    }

    function fresh_foot_ul(begin,tail) {
        var $foot_ul = $("ul.pagination");
        $foot_ul.empty();
        $pre_li = $("<li><a onclick=\"pre()\">&laquo;</a></li>");
        $next_li = $("<li><a onclick=\"next()\">&raquo;</a></li>");
        $foot_ul.append($pre_li);
        for(var index=begin;index<=tail;index++){
            var new_li = $("<li><a onclick='jmpTargetPage(this)'></a></li>");
            new_li.children("a").text(index);
            new_li.attr("index",index);
            if(index===1){
                new_li.addClass("active");
            }
            $foot_ul.append(new_li);
        }
        $foot_ul.append($next_li);
    }

    function customAlert(str){
        alert(str);
    }

    function setCountryAndLanguageJson() {
        if((typeof country_list)==="undefined"||(typeof language_list)==="undefined"){
            $.ajax({
                "url":"/json/countryCode.json",
                "type":"post",
                //必须同步！！！
                "async":false,
                "dataType":"json"
            }).done(function (data) {
                country_list = data;
            }).fail(function () {
                alert("加载国家列表失败，请检查网络连接！");
            });

            $.ajax({
                "url":"/json/languageCode.json",
                "type":"post",
                "async":false,
                "dataType":"json"
            }).done(function (data) {
                language_list = data;
            }).fail(function () {
                alert("加载语言列表失败，请检查网络连接！");
            });
        }
    }

</script>
</body>

</html>